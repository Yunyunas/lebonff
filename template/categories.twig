{% extends "layout.twig" %}

{% block title %} <title>Liste des rubriques</title> {% endblock %}
{% block content %}

<div class="container">

    <div class="row">
    	<div class="col-md-8">
			<h1 class="my-4 col-md-8">Liste des catégories</h1>
		</div>
		<div class="col-md-4">
			<a class="my-5 px-5 btn btn-success" id="add-category" href="index.php?url=admin/category/create" style="visibility:{{ session.role != 'admin' ? 'hidden' : 'visible' }}">Créer une catégorie</a>
		</div>
	</div>
	
	<div class="row">
		{% for category in categories %}
			<div class="col-lg-3 col-md-4 col-sm-6 mb-4">
			
				<div class="card h-100">
					<div>
						<a href="index.php?url=products&id={{category.id}}&paramName={{category.name}}">
							<img class="card-img-top" src="./public/img/categories/{{category.url_picture}}" alt="Image de {{category.name}}">
						</a>
					</div>
					<div class="card-body">
						<h4 class="card-title">
							<a href="index.php?url=products&id={{category.id}}&paramName={{category.name}}">{{category.name}}</a>
						</h4>
						<p class="card-text">{{category.description}}</p>
						
						<a class="btn btn-primary" href="index.php?url=admin/category/update&id={{category.id}}" style="visibility:{{ session.role != 'admin' ? 'hidden' : 'visible' }}">Modifier</a>
						<a class="btn btn-danger" href="index.php?url=admin/category/delete&id={{category.id}}&img={{category.url_picture}}" style="visibility:{{ session.role != 'admin' ? 'hidden' : 'visible' }}">Supprimer</a>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>
</div>

{% endblock %}